<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Secret Reveal</title>
    <style>
        .hidden { display: none !important; }
        #timer { font-size: 2rem; font-weight: bold; margin: 20px 0; }
        .unlock-btn { padding: 10px 20px; cursor: pointer; background: #28a745; color: white; border: none; border-radius: 5px; }
    </style>
</head>
<body>

    <div id="locked-view">
        <h2>Your Surprise is Loading...</h2>
        <div id="timer">00:00:00</div>
        <button id="unlock-trigger" class="unlock-btn">Unlock Directly ðŸ”“</button>
    </div>

    <div id="unlocked-view" class="hidden">
        <h1>ðŸŽ‰ SURPRISE! ðŸŽ‰</h1>
        <p>You have bypassed the timer successfully.</p>
    </div>

    <script>
        // Use DOMContentLoaded to ensure the HTML exists before JS tries to find the button
        document.addEventListener('DOMContentLoaded', () => {
            
            const lockedView = document.getElementById('locked-view');
            const unlockedView = document.getElementById('unlocked-view');
            const unlockBtn = document.getElementById('unlock-trigger');

            // Function to handle the switch
            function revealSecret() {
                console.log("Unlock function triggered!"); // Check your browser console (F12)
                lockedView.classList.add('hidden');
                unlockedView.classList.remove('hidden');
                localStorage.setItem('secret_unlocked', 'true');
            }

            // Listen for the click
            unlockBtn.addEventListener('click', revealSecret);

            // PWA Persistence: Check if it was already unlocked
            if (localStorage.getItem('secret_unlocked') === 'true') {
                revealSecret();
            }

            // Timer Logic (simplified for testing)
            setInterval(() => {
                const timerEl = document.getElementById('timer');
                if (timerEl) {
                    const now = new Date();
                    timerEl.innerText = now.toLocaleTimeString();
                }
            }, 1000);
        });
    </script>
</body>
</html>